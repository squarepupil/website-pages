<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-194x194.png" sizes="194x194">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#14728c">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <title>A&amp;I</title>
    <link href="main.css" rel="stylesheet">
    <style></style>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    
    <main class="outer">
      <h2></h2>
      <div class="inner">
        <article>
          <h1></h1>
        </article>
        <aside> </aside>
      </div>
    </main>
    <header>
    <div class="info outer">
      <div class="inner">
        <div id="home"><a href="index.html">Arts &amp; Ideas Sudbury School</a></div>
        <div class="spacer"></div>
        <div id="actions"><ul>
        <li><a href="calendar.html">Calendar</a></li>
        <li><a href="support-us.html">Support Us</a></li>
        <li><a href="contact-us.html">Contact Us</a></li>
        </ul>
        </div>
      </div>
    </div>
    <div class="content outer">
      <div class="inner">
        <div id="details">
          <ul>
            <li class="arrow model"><a href="#">The Model</a></li>
            <li class="arrow school"><a href="#">Our School</a></li>
            <li><a href="admissions.html">Admissions</a></li>
          </ul>
        </div>
        <div id="logo"><a href="index.html"><img alt="Light bulb and ampersand logo" src="img/logo.svg" /></a></div>
        <div id="pathway"><ul>
        <li><a href="tuition.html">Tuition</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="testimonials.html">Testimonials</a></li>
        <li><a href="faq.html">FAQ</a></li>
        </ul>
        </div>
      </div>
    </div>
    <div class="dropdown outer">         
      <div class="inner model">
        <ul>
          <li><a href="introduction.html">Introduction</a></li>
          <li><a href="detailed.html">Detailed</a></li>
          <li><a href="comparisons.html">Comparisons</a></li>
          <li><a href="questions.html">Questions</a></li>
          <li><a href="resources.html">Resources</a></li>
        </ul>
      </div>
    </div>
    <div class="dropdown outer">
      <div class="inner school">
        <ul>
          <li><a href="organization.html">Organization</a></li>
          <li><a href="staff.html">Staff</a></li>
          <li><a href="space.html">Space</a></li>
          <li><a href="history.html">History</a></li>
          <li><a href="name.html">Name</a></li>
        </ul>
      </div>
    </div></header>
    <footer class="outer"> 
      <div class="inner"><ul>
      <li>Arts &amp; Ideas Sudbury School</li>
      <li>A&amp;I</li>
      <li><a href="https://goo.gl/maps/wDtVMYYgTwM2" target="_blank">4915 Holder<span class="long"> Avenue, Baltimore, MD 21214</span></a></li>
      <li>410-426-0001</li>
      <li><a href="https://www.facebook.com/Arts-Ideas-Sudbury-School-372859716072"><img src="img/flogo.png" alt="Facebook Logo"></a></li>
      <li><a href="http://blog.aisudbury.com"><img src="img/blog-logo.gif" alt="Blog"></a></li>
      </ul>
      </div>
    </footer>
    <div class="sitemap"><ul>
        <li><a href="/">Arts <span class="amp">&amp;</span> Ideas Sudbury School <img alt="Light bulb and ampersand logo" src="img/logo.svg" /> </a></li>
        <li id="menu">MENU</li>
    </ul>
    <ul class="off">
       <li id="sitemap-model"> <p class="active arrow mobile">The Model</p>
            <ul class="site-drop active mobile"> 
                <li><a href="introduction.html">Introduction</a></li><li><a href="detailed.html">Detailed</a></li><li><a href="comparisons.html">Comparisons</a></li><li><a href="questions.html">Questions</a></li><li><a href="resources.html">Resources</a></li>
            </ul>
       </li>
       <li id="sitemap-school"> <p class="active arrow mobile">Our School</p>
            <ul class="site-drop active mobile">
                <li><a href="organization.html">Organization</a></li><li><a href="staff.html">Staff</a></li><li><a href="space.html">Space</a></li><li><a href="history.html">History</a></li><li><a href="name.html">Name</a></li>
            </ul>
        </li>
        <li><a href="admissions.html">Admissions</a></li>
        <li><a href="tuition.html">Tuition</a></li><li><a href="gallery.html">Gallery</a></li><li><a href="testimonials.html">Testimonials</a></li><li><a href="faq.html">FAQ</a></li>
        <li><a href="calendar.html">Calendar</a></li><li><a href="support-us.html">Support Us</a></li><li><a href="contact-us.html">Contact Us</a></li>
    </ul></div>
    <script>
        var asideHeight = function () {
            var arr = document.querySelectorAll("[data-match]");
            var i, n = arr.length, el, id;
            for (i = 0; i <n; i += 1) {
                el = arr[i];
                id = document.querySelector(el.getAttribute("data-match"));
                el.style.positon ="relative";
                el.style.height = -el.offsetTop+id.offsetTop + "px";
            }
        };
        var resizing = false;
        window.addEventListener("load", asideHeight);
        window.addEventListener("resize", function() {
            if (!resizing) {
                resizing = true;
                setTimeout(function() {
                    resizing = false;
                    asideHeight();
                }, 100);
            }
        });
        Array.prototype.slice.call(document.querySelectorAll(".brief")).
            forEach(function (el) {
                var button = el.querySelector("button");
                var subst = el.querySelector(".substance");
                button.addEventListener("click", function () {
                    if (subst.classList.contains("hide")) {
                        subst.classList.remove("hide");
                        button.innerHTML = "...Less"; 
                    } else {
                        subst.classList.add("hide");
                        button.innerHTML= "More...";
                    }
                });  
                subst.classList.add("hide");
                button.innerHTML= "More...";
            });
        window.addEventListener("load", function () {
            var footer = document.querySelector("footer");
            if (footer.getBoundingClientRect().top < window.innerHeight) {
                footer.classList.add("fix");
            }
        });
        /*nav.md*/
        var sitemap = document.querySelector(".sitemap");
        sitemap.classList.add("js");
        var menulist = document.querySelector(".sitemap ul:nth-child(2)");
        var sactive = document.querySelectorAll(".sitemap .active");
        document.querySelector("#menu").addEventListener("click",
            function (ev) {
                var i, n=sactive.length;
                menulist.classList.toggle("off");
                menulist.classList.toggle("on");
                for (i = 0; i < n; i += 1) {
                    sactive[i].classList.add("active");
                }
                ev.stopPropagation();
            });
        sitemap.addEventListener("click", function (ev) {
            ev.stopPropagation();
        });
        document.querySelector("body").addEventListener("click", function () {
            menulist.classList.add("off");
            menulist.classList.remove("on");
        });
        var togglers = document.querySelectorAll(".arrow");
        var drops = [].concat(
                Array.prototype.slice.apply(document.querySelectorAll(".dropdown")),
                Array.prototype.slice.apply(document.querySelectorAll(".site-drop")));
                console.log(drops);
        var bulb = document.querySelector("#logo").classList;
        var arrows = [];
        var makeTriangle = function (el) {
            var can = document.createElement("canvas");
            can.setAttribute("width", "100");
            can.setAttribute("height", "100");
        
            var color;
            if (el.classList.contains("mobile")) {
                color = "#CEB1B1"; 
            } else {
                color = "black";
            }
        
            var ctx = can.getContext("2d");
            ctx.fillStyle=color;
            ctx.beginPath();
            ctx.moveTo(0,0);
            ctx.lineTo(0,100);
            ctx.lineTo(100,50);
            ctx.fill();
            el.appendChild(can);
            return can;
        };
        var toggler = function (ind) {
            var dd =  drops[ind];
            return function (e) {
                var flag = false;
                e.preventDefault();
                var i = 0, n = drops.length;
                var cl;
                for (i = 0; i < n; i += 1) {
                    cl = drops[i].classList;
                    if (cl.contains("active") ) {
                        if (cl.contains("mobile") ) {
                            if (ind === i) {
                                cl.remove("active");
                                togglers[i].classList.remove("active");
                                flag = true; // toggling behavior;
                            }
                        } else {
                            cl.remove("active");
                            togglers[i].classList.remove("active");
                            if (ind === i) {
                                bulb.remove("small");
                                return;
                            }
                        }
                    }
                }
                setTimeout(function() {
                    if (!flag) {
                       dd.classList.add("active");
                        bulb.add("small");
                        togglers[ind].classList.add("active");
                    }
                }, 300);
            };
        };
        var i, n = togglers.length;
        console.log("togglers", n, "drops", drops.length); 
        for (i=0; i < n; i += 1) {
            arrows.push(makeTriangle(togglers[i]));    
            togglers[i].addEventListener("click", toggler(i)); 
        }
        var farrow = function (el, prepend) {
            if (!el) {
                return;
            }
            var can = document.createElement("canvas");
            can.setAttribute("width", "200");
            can.setAttribute("height", "100");
        
            var color;
            color = "whitesmoke";
        
            var ctx = can.getContext("2d");
            ctx.fillStyle=color;
            ctx.beginPath();
            ctx.moveTo(0,25);
            ctx.lineTo(0,75);
            ctx.lineTo(100,75);
            ctx.lineTo(100,100);
            ctx.lineTo(200,50);
            ctx.lineTo(100, 0);
            ctx.lineTo(100, 25);
            ctx.lineTo(0,25);
            ctx.fill();
            if (prepend) {
                el.insertBefore(can, prepend);
            } else {
                el.appendChild(can);
            }
            return can;
        };
        
        farrow(document.querySelector(".previous a"), 
            document.querySelector(".previous a span"));
        farrow(document.querySelector(".next a"));    
    </script>
  </body>
</html>
